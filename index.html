<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-05-08 Wed 18:06 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Setup for macOS and GNU/Linux</title>
<meta name="author" content="Bidipta Sarkar" />
<meta name="description" content="Org mode emacs setup" />
<meta name="keywords" content="org, emacs, config, conda, tramp" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/readtheorg.css"/>
<script type="text/javascript" src="src/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="src/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="src/readtheorg_theme/js/readtheorg.js"></script>
<style> .figure p {text-align: center;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Emacs Setup for macOS and GNU/Linux</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgdc43a19">1. Base Installation</a>
<ul>
<li><a href="#org79cbe09">1.1. macOS</a></li>
<li><a href="#orgae31207">1.2. GNU/Linux</a></li>
</ul>
</li>
<li><a href="#org23eef27">2. Conda Setup</a></li>
<li><a href="#org0614504">3. Install this Config</a></li>
<li><a href="#orgabcfe66">4. Tips for Using Emacs</a></li>
<li><a href="#org23c6763">5. Early Init</a></li>
<li><a href="#org66ffaf7">6. Init</a>
<ul>
<li><a href="#org87a6a3e">6.1. Package Support</a></li>
<li><a href="#orgf9fea0c">6.2. Basic Customization</a></li>
<li><a href="#org2722bd5">6.3. macOS Support</a></li>
<li><a href="#org238b4d7">6.4. Xwidgets Convenience functions</a></li>
<li><a href="#org2a66ad6">6.5. Writing</a>
<ul>
<li><a href="#orgd1a6c9c">6.5.1. Org Mode</a></li>
<li><a href="#org0cade6e">6.5.2. Markdown Mode</a></li>
<li><a href="#org7a22b5b">6.5.3. LaTeX</a></li>
</ul>
</li>
<li><a href="#org45806f3">6.6. Programming</a>
<ul>
<li><a href="#org33c67b6">6.6.1. Elisp Support</a></li>
<li><a href="#org02cce0e">6.6.2. Python Support</a></li>
<li><a href="#org79f8590">6.6.3. Tramp + Conda</a></li>
<li><a href="#org5901dad">6.6.4. C/C++/CUDA</a></li>
<li><a href="#orga1f3beb">6.6.5. Processing (Art)</a></li>
</ul>
</li>
<li><a href="#orgeb60e7d">6.7. Wrap up</a></li>
</ul>
</li>
<li><a href="#orgb24643a">7. Acknowledgements</a></li>
<li><a href="#org68fd06c">8. License</a></li>
</ul>
</div>
</div>
<p>
This file is a <a href="https://en.wikipedia.org/wiki/Literate_programming">literate program</a> for my emacs configuration. It details how to get started with my setup on macOS and GNU/Linux, which includes:
</p>
<ul class="org-ul">
<li>Installing emacs with GUI and web browsing support</li>
<li>Automatic reloading and html creation for the config</li>
<li>Support for conda virtual environments, including on virtual machines</li>
<li>LaTeX setup with synctex</li>
<li>Eglot as an LSP client for python</li>
</ul>

<p>
This file is also exported as a Github pages site <a href="https://bsarkar321.github.io/emacs_setup/">here</a>. The repo is <a href="https://github.com/bsarkar321/emacs_setup">here</a>.
</p>


<div id="org3d1ac7d" class="figure">
<p><img src="emacs_icon.png" alt="emacs_icon.png" width="100px" />
</p>
</div>

<div id="outline-container-orgdc43a19" class="outline-2">
<h2 id="orgdc43a19"><span class="section-number-2">1.</span> Base Installation</h2>
<div class="outline-text-2" id="text-1">
<p>
This section goes over the base installation procedure for vanilla emacs and LaTeX.
</p>
</div>

<div id="outline-container-org79cbe09" class="outline-3">
<h3 id="org79cbe09"><span class="section-number-3">1.1.</span> macOS</h3>
<div class="outline-text-3" id="text-1-1">
<p>
First, install command line developer tools and homebrew if it is not already installed.
</p>

<div class="org-src-container">
<pre class="src src-bash">xcode-select --install
/bin/bash -c <span style="color: #98C379;">"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</span>
</pre>
</div>

<blockquote>
<p>
At this point, brew should be installed, but it may not be added to your path yet. You should run the following two commands to add it to your PATH or follow the instructions that are at the end of the homebrew installation.
</p>

<div class="org-src-container">
<pre class="src src-bash">(<span style="color: #56B6C2;">echo</span>; <span style="color: #56B6C2;">echo</span> <span style="color: #98C379;">'eval "$(/opt/homebrew/bin/brew shellenv)"'</span>) &gt;&gt; ~/.zprofile
<span style="color: #56B6C2;">eval</span> <span style="color: #98C379;">"$(/opt/homebrew/bin/brew shellenv)"</span>
</pre>
</div>
</blockquote>

<p>
Next, install <a href="https://github.com/d12frosted/homebrew-emacs-plus">emacs-plus</a>. Check the link for more compilation options in case you need different features.
</p>

<div class="org-src-container">
<pre class="src src-bash">brew tap d12frosted/emacs-plus
brew install emacs-plus@30 --with-ctags --with-xwidgets --with-imagemagick --with-native-comp --with-poll --with-modern-alecive-flatwoken-icon
</pre>
</div>

<p>
At this step, I also recommend installing basictex for pdflatex support.
</p>

<div class="org-src-container">
<pre class="src src-bash">brew install --cask basictex
<span style="color: #56B6C2;">eval</span> <span style="color: #98C379;">"$(/usr/libexec/path_helper)"</span>
</pre>
</div>

<p>
To install packages during compilation failures, please refer to <a href="https://www.ctan.org/">CTAN</a> and install packages using tlmgr.
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo tlmgr update --self
sudo tlmgr install wrapfig capt-of
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae31207" class="outline-3">
<h3 id="orgae31207"><span class="section-number-3">1.2.</span> GNU/Linux</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Before installing emacs, first install some dependencies using your package manager. In particular, we need imagemagick for pdf/image support and libgccjit for native compilation. Below I have instructions for pacman, the Arch package manager:
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo pacman -S imagemagick libgccjit
</pre>
</div>

<p>
I recommend building emacs from source to take advantage of all the features of emacs, like xwidgets, imagemagick, and native compilation support. Instructions from the official <a href="https://git.savannah.gnu.org/cgit/emacs.git/tree/INSTALL.REPO">emacs git repo</a>.
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #56B6C2;">cd</span> ~
git clone https://git.savannah.gnu.org/git/emacs.git
<span style="color: #56B6C2;">cd</span> emacs
./autogen.sh
./configure --with-xwidgets --with-imagemagick --with-native-compilation
make -j
sudo make install
</pre>
</div>

<p>
At this step, I also recommend installing a minimal version of TeX live following <a href="https://tug.org/texlive/quickinstall.html">these instructions</a>:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #56B6C2;">cd</span> /tmp
wget https://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
zcat &lt; install-tl-unx.tar.gz | tar xf -
<span style="color: #56B6C2;">cd</span> install-tl-*
sudo perl ./install-tl --no-interaction --scheme=minimal
</pre>
</div>

<p>
You must add texlive to the path by editing your .bashrc file in the home directory by running the following command (assuming you are using the bash shell):
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo bash -c <span style="color: #98C379;">'(echo; echo "export PATH=\$PATH:/usr/local/texlive/2023/bin/x86_64-linux") &gt;&gt; /etc/profile'</span>
</pre>
</div>

<p>
To install packages during compilation failures, please refer to <a href="https://www.ctan.org/">CTAN</a> and install packages using tlmgr.
</p>

<div class="org-src-container">
<pre class="src src-bash">sudo tlmgr update --self
sudo tlmgr install wrapfig capt-of
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org23eef27" class="outline-2">
<h2 id="org23eef27"><span class="section-number-2">2.</span> Conda Setup</h2>
<div class="outline-text-2" id="text-2">
<p>
To install conda, I used homebrew's miniconda cask for macos:
</p>

<div class="org-src-container">
<pre class="src src-bash">brew install --cask miniconda
conda init <span style="color: #98C379;">"$(basename "${SHELL}")"</span>
</pre>
</div>

<p>
On GNU/Linux, I used mambaforge directly:
</p>

<div class="org-src-container">
<pre class="src src-bash">wget <span style="color: #98C379;">"https://github.com/conda-forge/miniforge/releases/latest/download/Mambaforge-$(uname)-$(uname -m).sh"</span>
bash Mambaforge-$(uname)-$(uname -m).sh
</pre>
</div>

<blockquote>
<p>
After installing conda, remember to close and re-open your terminal. When you re-open it, you should be able to see <code>(base)</code> before your command line prompt, which confirms that miniconda is active.
</p>

<p>
I would also recommend creating a test environment in madrona, as follows:
</p>
<div class="org-src-container">
<pre class="src src-bash">conda create -n testenv <span style="color: #E06C75;">python</span>=3.10
</pre>
</div>

<p>
You will be able to activate and deactive this on the terminal, and integrate this environment (along with new and existing conda environments) into emacs.r
</p>
</blockquote>

<p>
To use virtual environments, first ensure that there is a symbolic link from the directory to the ~/.virtualenvs directory. Since I installed miniconda through homebrew, I needed to run the following script first for macos.
</p>

<div class="org-src-container">
<pre class="src src-bash">ln -s /opt/homebrew/Caskroom/miniconda/base/envs ~/.virtualenvs
</pre>
</div>

<p>
On GNU/Linux, you can link mambaforge directly instead:
</p>

<div class="org-src-container">
<pre class="src src-bash">ln -s ~/mambaforge/envs ~/.virtualenvs
</pre>
</div>
</div>
</div>


<div id="outline-container-org0614504" class="outline-2">
<h2 id="org0614504"><span class="section-number-2">3.</span> Install this Config</h2>
<div class="outline-text-2" id="text-3">
<p>
If you have existing configuration files, I strongly recommend creating a backup of your .emacs.d directory. For instance, I just called <code>mv ~/.emacs.d ~/emacs_old</code> to save my old configuration.
</p>

<p>
Next, clone this repo and set up symbolic links so changes to this repo are reflected in the emacs init file.
</p>

<div class="org-src-container">
<pre class="src src-bash">git clone https://github.com/bsarkar321/emacs_setup
<span style="color: #56B6C2;">cd</span> emacs_setup

mkdir ~/.emacs.d

ln -s <span style="color: #98C379;">"$(pwd)"</span>/early-init.el ~/.emacs.d/early-init.el
ln -s <span style="color: #98C379;">"$(pwd)"</span>/init.el ~/.emacs.d/init.el
</pre>
</div>

<p>
After this point, your emacs should be fully set up using my configuration! You can launch emacs and open this file from the terminal by calling <code>emacs README.org</code>. Note that packages will be installed the first time you set up, and the config may not be fully loaded. At this point, it is normal to see many compilation messages and warnings. However, if you close emacs and open it up again, you should see my full setup loaded.
</p>

<blockquote>
<p>
When opening <code>README.org</code> you may see the following warning:
</p>

<div class="org-src-container">
<pre class="src src-bash">The local variables list<span style="color: #C678DD;"> in</span> README.org
or .dir-locals.el contains values that may not be safe (*).

Do you want to apply it?  You can type
y  -- to apply the local variables list.
n  -- to ignore the local variables list.
<span style="color: #56B6C2; font-weight: bold;">!</span>  -- to apply the local variables list, and permanently mark these
      values (*) as safe (<span style="color: #C678DD;">in</span> the future, they will be set automatically.)
i  -- to ignore the local variables list, and permanently mark these
      values (*) as ignored

  * eval : (add-hook <span style="color: #98C379;">'after-save-hook (lambda nil (when (y-or-n-p "Tangle?") (org-babel-tangle) (load-file user-init-file) (org-html-export-to-html))) nil t)</span>
</pre>
</div>

<p>
This is a safety feature to prevent arbitrary code execution in emacs. If you click "y" or "!" you will enable the feature of this file to automatically reload the configuration whenever you save.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgabcfe66" class="outline-2">
<h2 id="orgabcfe66"><span class="section-number-2">4.</span> Tips for Using Emacs</h2>
<div class="outline-text-2" id="text-4">
<p>
[WIP]
</p>

<p>
The rest of this file directly contains the code for the early-init and init files. You can edit this document directly, and the changes will be applied upon saving in emacs (if you accept the question that pop up in the minibuffer).
</p>
</div>
</div>

<div id="outline-container-org23c6763" class="outline-2">
<h2 id="org23c6763"><span class="section-number-2">5.</span> Early Init</h2>
<div class="outline-text-2" id="text-5">
<p>
This early init uses some tricks from Doom Emacs to reduce startup time. It also changes the default frame at startup, which is faster than changing it after the frame is initialized. Specifically:
</p>
<ul class="org-ul">
<li>tool-bar-lines (the top bar with gui icons) is disabled</li>
<li>vertical-scroll-bars are disabled</li>
<li>the title bar is transparent (has same color as rest of emacs)</li>
<li>The width and height are half the screen by default</li>
</ul>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr"> 1: </span><span style="color: #5C6370; font-style: italic;">;;; </span><span style="color: #5C6370; font-style: italic;">early-init.el --- Early initialization</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #5C6370; font-style: italic;">;;; </span><span style="color: #5C6370; font-style: italic;">Commentary:</span>
<span class="linenr"> 4: </span><span style="color: #5C6370; font-style: italic;">;;</span>
<span class="linenr"> 5: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Using early-init for speed.</span>
<span class="linenr"> 6: </span><span style="color: #5C6370; font-style: italic;">;;</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #5C6370; font-style: italic;">;;; </span><span style="color: #5C6370; font-style: italic;">Code:</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>(<span style="color: #C678DD;">setq</span> gc-cons-threshold most-positive-fixnum
<span class="linenr">11: </span>      gc-cons-percentage 0.6)
<span class="linenr">12: </span>
<span class="linenr">13: </span>(add-hook 'emacs-startup-hook
<span class="linenr">14: </span>          (<span style="color: #C678DD;">lambda</span> ()
<span class="linenr">15: </span>            (<span style="color: #C678DD;">setq</span> gc-cons-threshold 16777216
<span class="linenr">16: </span>                  gc-cons-percentage 0.1)))
<span class="linenr">17: </span>
<span class="linenr">18: </span>(<span style="color: #C678DD;">defun</span> <span style="color: #61AFEF;">doom-defer-garbage-collection-h</span> ()
<span class="linenr">19: </span>  <span style="color: #98C379;">"Defer gc."</span>
<span class="linenr">20: </span>  (<span style="color: #C678DD;">setq</span> gc-cons-threshold most-positive-fixnum))
<span class="linenr">21: </span>
<span class="linenr">22: </span>(<span style="color: #C678DD;">defun</span> <span style="color: #61AFEF;">doom-restore-garbage-collection-h</span> ()
<span class="linenr">23: </span>  <span style="color: #98C379;">"Restore gc."</span>
<span class="linenr">24: </span>  (run-at-time
<span class="linenr">25: </span>   1 nil (<span style="color: #C678DD;">lambda</span> () (<span style="color: #C678DD;">setq</span> gc-cons-threshold 16777216))))
<span class="linenr">26: </span>
<span class="linenr">27: </span>(add-hook 'minibuffer-setup-hook #'doom-defer-garbage-collection-h)
<span class="linenr">28: </span>(add-hook 'minibuffer-exit-hook #'doom-restore-garbage-collection-h)
<span class="linenr">29: </span>
<span class="linenr">30: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">package-initialize already in init.el</span>
<span class="linenr">31: </span>(<span style="color: #C678DD;">setq</span> package-enable-at-startup nil)
<span class="linenr">32: </span>
<span class="linenr">33: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Inhibit resizing frame</span>
<span class="linenr">34: </span>(<span style="color: #C678DD;">setq</span> frame-inhibit-implied-resize t)
<span class="linenr">35: </span>
<span class="linenr">36: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Disable before actual init</span>
<span class="linenr">37: </span>(<span style="color: #C678DD;">push</span> '(tool-bar-lines . 0) default-frame-alist)
<span class="linenr">38: </span>(<span style="color: #C678DD;">push</span> '(vertical-scroll-bars) default-frame-alist)
<span class="linenr">39: </span>(<span style="color: #C678DD;">when</span> (<span style="color: #C678DD;">featurep</span> '<span style="color: #56B6C2;">ns</span>)
<span class="linenr">40: </span>  (<span style="color: #C678DD;">push</span> '(ns-transparent-titlebar . t) default-frame-alist))
<span class="linenr">41: </span>(<span style="color: #C678DD;">push</span> '(width . 0.5) default-frame-alist)
<span class="linenr">42: </span>(<span style="color: #C678DD;">push</span> '(height . 0.5) default-frame-alist)
<span class="linenr">43: </span>
<span class="linenr">44: </span><span style="color: #5C6370; font-style: italic;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="linenr">45: </span><span style="color: #5C6370; font-style: italic;">;;; </span><span style="color: #5C6370; font-style: italic;">early-init.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org66ffaf7" class="outline-2">
<h2 id="org66ffaf7"><span class="section-number-2">6.</span> Init</h2>
<div class="outline-text-2" id="text-6">
<p>
The code below gets constructed into the init.el, where most of the customization lies.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr"> 1: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">.emacs.d/init.el --- Init for Emacs</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #5C6370; font-style: italic;">;;; </span><span style="color: #5C6370; font-style: italic;">Commentary:</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Lightweight Emacs config file to make Emacs look like atom</span>
<span class="linenr"> 6: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">while having tramp/python/c++/latex support.</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #5C6370; font-style: italic;">;;; </span><span style="color: #5C6370; font-style: italic;">Code:</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">This is only here to resolve flymake complaints</span>
<span class="linenr">11: </span>(<span style="color: #C678DD;">eval-when-compile</span>
<span class="linenr">12: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">xwwp-search-prefix</span>)
<span class="linenr">13: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">org-image-actual-width</span>)
<span class="linenr">14: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">org-support-shift-select</span>)
<span class="linenr">15: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">org-latex-listings</span>)
<span class="linenr">16: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">org-src-fontify-natively</span>)
<span class="linenr">17: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">org-file-apps</span>)
<span class="linenr">18: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">TeX-auto-save</span>)
<span class="linenr">19: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">TeX-parse-self</span>)
<span class="linenr">20: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">TeX-view-program-selection</span>)
<span class="linenr">21: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">TeX-source-correlate-start-server</span>)
<span class="linenr">22: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">TeX-source-correlate-method</span>)
<span class="linenr">23: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">TeX-source-correlate-mode</span>)
<span class="linenr">24: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">reftex-plug-into-AUCTeX</span>)
<span class="linenr">25: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">reftex-bibliography-commands</span>)
<span class="linenr">26: </span>
<span class="linenr">27: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">markdown-command</span>)
<span class="linenr">28: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">LaTeX-mode-map</span>)
<span class="linenr">29: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">corfu-map</span>)
<span class="linenr">30: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">corfu-popupinfo-delay</span>)
<span class="linenr">31: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">tramp-use-ssh-controlmaster-options</span>)
<span class="linenr">32: </span>  (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">tramp-verbose</span>)
<span class="linenr">33: </span>
<span class="linenr">34: </span>  (<span style="color: #C678DD;">declare-function</span> pdf-loader-install nil)
<span class="linenr">35: </span>  (<span style="color: #C678DD;">declare-function</span> TeX-revert-document-buffer nil)
<span class="linenr">36: </span>  (<span style="color: #C678DD;">declare-function</span> pyvenv-mode nil)
<span class="linenr">37: </span>  (<span style="color: #C678DD;">declare-function</span> pyvenv-workon-home nil)
<span class="linenr">38: </span>  (<span style="color: #C678DD;">declare-function</span> global-corfu-mode nil)
<span class="linenr">39: </span>  (<span style="color: #C678DD;">declare-function</span> corfu-popupinfo-mode nil)
<span class="linenr">40: </span>  )
<span class="linenr">41: </span>
</pre>
</div>
</div>

<div id="outline-container-org87a6a3e" class="outline-3">
<h3 id="org87a6a3e"><span class="section-number-3">6.1.</span> Package Support</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Here I define that melpa should be added to the package archives, which has a larger repository of user-created packages.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">42: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">43: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">MELPA Package Support</span>
<span class="linenr">44: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">45: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Enables basic packing support</span>
<span class="linenr">46: </span>(<span style="color: #C678DD;">require</span> '<span style="color: #56B6C2;">package</span>)
<span class="linenr">47: </span>
<span class="linenr">48: </span>(add-to-list 'package-archives '(<span style="color: #98C379;">"melpa"</span> . <span style="color: #98C379;">"https://melpa.org/packages/"</span>) t)
<span class="linenr">49: </span>
<span class="linenr">50: </span>(package-initialize)
<span class="linenr">51: </span>
<span class="linenr">52: </span>(<span style="color: #C678DD;">when</span> (not package-archive-contents) (package-refresh-contents))
<span class="linenr">53: </span>
<span class="linenr">54: </span>(<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">my-packages</span>
<span class="linenr">55: </span>  '(atom-one-dark-theme  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">melpa</span>
<span class="linenr">56: </span>    corfu
<span class="linenr">57: </span>    jupyter              <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">melpa</span>
<span class="linenr">58: </span>    htmlize
<span class="linenr">59: </span>    magit
<span class="linenr">60: </span>    markdown-mode
<span class="linenr">61: </span>    pdf-tools
<span class="linenr">62: </span>    pyvenv               <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">melpa</span>
<span class="linenr">63: </span>    use-package
<span class="linenr">64: </span>    xwwp                 <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">melpa</span>
<span class="linenr">65: </span>    processing-mode      <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">melpa</span>
<span class="linenr">66: </span>    ))
<span class="linenr">67: </span>
<span class="linenr">68: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Iterate on packages and install missing ones</span>
<span class="linenr">69: </span>(<span style="color: #C678DD;">dolist</span> (pkg my-packages)
<span class="linenr">70: </span>  (<span style="color: #C678DD;">unless</span> (package-installed-p pkg)
<span class="linenr">71: </span>    (package-install pkg)))
<span class="linenr">72: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf9fea0c" class="outline-3">
<h3 id="orgf9fea0c"><span class="section-number-3">6.2.</span> Basic Customization</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Adding basic customization options, like loading the theme and setting a custom-file so it does not conflict with this init file.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">73: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">74: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Basic Customization</span>
<span class="linenr">75: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">76: </span>
<span class="linenr">77: </span>(load-theme 'atom-one-dark t)
<span class="linenr">78: </span>
<span class="linenr">79: </span>(<span style="color: #C678DD;">setq</span> inhibit-startup-message t)    <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Hide the startup message</span>
<span class="linenr">80: </span>(<span style="color: #C678DD;">setq</span> column-number-mode t)         <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Show column number in mode-line</span>
<span class="linenr">81: </span>(global-superword-mode t)           <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Superword for all buffers</span>
<span class="linenr">82: </span>(delete-selection-mode t)           <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Delete when typing over selection</span>
<span class="linenr">83: </span>(<span style="color: #C678DD;">setq</span> split-height-threshold nil)   <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Do not split by height by default</span>
<span class="linenr">84: </span>(<span style="color: #C678DD;">setq</span> split-width-threshold 0)      <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Split by width by default</span>
<span class="linenr">85: </span>(electric-pair-mode t)              <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Default electric pairs (opening parentheses create closing)</span>
<span class="linenr">86: </span>(<span style="color: #C678DD;">setq</span> use-short-answers t)          <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Use y/n instead of yes or no</span>
<span class="linenr">87: </span>(<span style="color: #C678DD;">setq</span> make-backup-files nil)        <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Do not save the backup files ~filename</span>
<span class="linenr">88: </span>
<span class="linenr">89: </span>(windmove-default-keybindings 'meta)<span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Use option key with arrows to switch which window is active</span>
<span class="linenr">90: </span>
<span class="linenr">91: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">separate custom.el so users can set preferences separately</span>
<span class="linenr">92: </span>(<span style="color: #C678DD;">defconst</span> <span style="color: #E06C75;">custom-file</span> (expand-file-name <span style="color: #98C379;">"custom.el"</span> user-emacs-directory))
<span class="linenr">93: </span>(load custom-file t)
<span class="linenr">94: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2722bd5" class="outline-3">
<h3 id="org2722bd5"><span class="section-number-3">6.3.</span> macOS Support</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Enables some mac-specific customization, including full screen with command-control-f, and commenting/uncommenting regions of code with command-/.
</p>

<p>
I also use command-option-&lt;arrow-keys&gt; to change the size of the focused window.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr"> 95: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr"> 96: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">macOS Default Keys</span>
<span class="linenr"> 97: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr"> 98: </span>(<span style="color: #C678DD;">setq</span> mac-option-modifier 'meta
<span class="linenr"> 99: </span>      mac-command-modifier 'super
<span class="linenr">100: </span>      mac-right-option-modifier 'meta)
<span class="linenr">101: </span>
<span class="linenr">102: </span>(<span style="color: #C678DD;">when</span> (string= system-type <span style="color: #98C379;">"darwin"</span>) (<span style="color: #C678DD;">defvar</span> <span style="color: #E06C75;">dired-use-ls-dired</span> nil))
<span class="linenr">103: </span>
<span class="linenr">104: </span>(<span style="color: #C678DD;">defun</span> <span style="color: #61AFEF;">comment-or-uncomment-region-or-line</span> ()
<span class="linenr">105: </span>  <span style="color: #98C379;">"Comments the region or the current line if there's no active region."</span>
<span class="linenr">106: </span>  (<span style="color: #C678DD;">interactive</span>)
<span class="linenr">107: </span>  (<span style="color: #C678DD;">let</span> (beg end)
<span class="linenr">108: </span>    (<span style="color: #C678DD;">if</span> (region-active-p)
<span class="linenr">109: </span>        (<span style="color: #C678DD;">setq</span> beg (region-beginning) end (region-end))
<span class="linenr">110: </span>      (<span style="color: #C678DD;">setq</span> beg (line-beginning-position) end (line-end-position)))
<span class="linenr">111: </span>    (comment-or-uncomment-region beg end)))
<span class="linenr">112: </span>
<span class="linenr">113: </span>(global-set-key (kbd <span style="color: #98C379;">"s-Z"</span>) 'undo-redo)
<span class="linenr">114: </span>(global-set-key (kbd <span style="color: #98C379;">"s-/"</span>) 'comment-or-uncomment-region-or-line)
<span class="linenr">115: </span>(global-set-key (kbd <span style="color: #98C379;">"C-s-f"</span>) 'toggle-frame-fullscreen)
<span class="linenr">116: </span>
<span class="linenr">117: </span>(global-set-key (kbd <span style="color: #98C379;">"M-s-&lt;left&gt;"</span>) 'shrink-window-horizontally)
<span class="linenr">118: </span>(global-set-key (kbd <span style="color: #98C379;">"M-s-&lt;right&gt;"</span>) 'enlarge-window-horizontally)
<span class="linenr">119: </span>(global-set-key (kbd <span style="color: #98C379;">"M-s-&lt;up&gt;"</span>) 'shrink-window)
<span class="linenr">120: </span>(global-set-key (kbd <span style="color: #98C379;">"M-s-&lt;down&gt;"</span>) 'enlarge-window)
<span class="linenr">121: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org238b4d7" class="outline-3">
<h3 id="org238b4d7"><span class="section-number-3">6.4.</span> Xwidgets Convenience functions</h3>
<div class="outline-text-3" id="text-6-4">
<p>
Use xwwp to have a browser within emacs.
</p>

<p>
Note: it is currently a big buggy, especially when multiple windows are created. However it works great for previewing html or testing out websites.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">122: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">123: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">xwwp setup</span>
<span class="linenr">124: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">125: </span>(<span style="color: #C678DD;">use-package</span> xwwp)
<span class="linenr">126: </span>(<span style="color: #C678DD;">setq</span> xwwp-search-prefix <span style="color: #98C379;">"https://duckduckgo.com/?q="</span>)
<span class="linenr">127: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2a66ad6" class="outline-3">
<h3 id="org2a66ad6"><span class="section-number-3">6.5.</span> Writing</h3>
<div class="outline-text-3" id="text-6-5">
<p>
Enable line numbers, word wrap, and spell checking for text modes.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">128: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">129: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Writing Modes</span>
<span class="linenr">130: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">131: </span>(<span style="color: #C678DD;">defun</span> <span style="color: #61AFEF;">human-text-on</span> ()
<span class="linenr">132: </span>  <span style="color: #98C379;">"Turn on human text options."</span>
<span class="linenr">133: </span>  (turn-on-visual-line-mode)
<span class="linenr">134: </span>  (display-line-numbers-mode)
<span class="linenr">135: </span>  )
<span class="linenr">136: </span>
<span class="linenr">137: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Txt support</span>
<span class="linenr">138: </span>(add-hook 'text-mode-hook #'human-text-on)
<span class="linenr">139: </span>
</pre>
</div>
</div>

<div id="outline-container-orgd1a6c9c" class="outline-4">
<h4 id="orgd1a6c9c"><span class="section-number-4">6.5.1.</span> Org Mode</h4>
<div class="outline-text-4" id="text-6-5-1">
<p>
Writing for org mode documents, like this configuration file! Enables opening web links within emacs, along with some other customization options to make org mode easier for me to work with.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">140: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Org support</span>
<span class="linenr">141: </span>(<span style="color: #C678DD;">setq</span> org-image-actual-width 500)
<span class="linenr">142: </span>(add-hook 'org-mode-hook #'human-text-on)
<span class="linenr">143: </span>(<span style="color: #C678DD;">setq</span> org-support-shift-select t)
<span class="linenr">144: </span>(<span style="color: #C678DD;">setq</span> org-latex-listings t)
<span class="linenr">145: </span>
<span class="linenr">146: </span>(<span style="color: #C678DD;">use-package</span> htmlize)
<span class="linenr">147: </span>(<span style="color: #C678DD;">setq</span> org-src-fontify-natively t)
<span class="linenr">148: </span>(<span style="color: #C678DD;">setq</span> browse-url-browser-function 'xwidget-webkit-browse-url)
<span class="linenr">149: </span>(<span style="color: #C678DD;">setq</span> org-file-apps
<span class="linenr">150: </span>      '((auto-mode . emacs)
<span class="linenr">151: </span>        (<span style="color: #98C379;">"\\.x?html?\\'"</span> . (<span style="color: #C678DD;">lambda</span> (file link) (xwidget-webkit-browse-url (concat <span style="color: #98C379;">"file://"</span> link))))
<span class="linenr">152: </span>        (<span style="color: #98C379;">"\\.mp4\\'"</span> . <span style="color: #98C379;">"vlc \"%s\""</span>)))
<span class="linenr">153: </span>
<span class="linenr">154: </span>(org-babel-do-load-languages 'org-babel-load-languages
<span class="linenr">155: </span>                             '(
<span class="linenr">156: </span>                               (python . t)
<span class="linenr">157: </span>                               (shell . t)
<span class="linenr">158: </span>                               ))
<span class="linenr">159: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0cade6e" class="outline-4">
<h4 id="org0cade6e"><span class="section-number-4">6.5.2.</span> Markdown Mode</h4>
<div class="outline-text-4" id="text-6-5-2">
<p>
Write markdown documents, common for project README files.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">160: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Markdown support</span>
<span class="linenr">161: </span>(<span style="color: #C678DD;">use-package</span> markdown-mode
<span class="linenr">162: </span>  <span style="color: #56B6C2;">:ensure</span> t
<span class="linenr">163: </span>  <span style="color: #56B6C2;">:mode</span> (<span style="color: #98C379;">"README\\.md\\'"</span> . gfm-mode)
<span class="linenr">164: </span>  <span style="color: #56B6C2;">:init</span> (<span style="color: #C678DD;">setq</span> markdown-command <span style="color: #98C379;">"multimarkdown"</span>))
<span class="linenr">165: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7a22b5b" class="outline-4">
<h4 id="org7a22b5b"><span class="section-number-4">6.5.3.</span> LaTeX</h4>
<div class="outline-text-4" id="text-6-5-3">
<p>
Write LaTeX documents with support for previewing and syncing (like double clicking on overleaf previews).
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">166: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Latex support</span>
<span class="linenr">167: </span>(pdf-loader-install)
<span class="linenr">168: </span>(add-hook 'pdf-view-mode-hook 'pdf-view-dark-minor-mode)
<span class="linenr">169: </span>
<span class="linenr">170: </span>(add-hook 'eww-mode-hook 'pdf-tools-install)
<span class="linenr">171: </span>
<span class="linenr">172: </span>(<span style="color: #C678DD;">use-package</span> tex
<span class="linenr">173: </span>  <span style="color: #56B6C2;">:ensure</span> auctex)
<span class="linenr">174: </span>
<span class="linenr">175: </span>(add-hook 'LaTeX-mode-hook
<span class="linenr">176: </span>          (<span style="color: #C678DD;">lambda</span>()
<span class="linenr">177: </span>            (turn-on-reftex)
<span class="linenr">178: </span>            (flyspell-mode)
<span class="linenr">179: </span>            (<span style="color: #C678DD;">setq</span> TeX-auto-save t)
<span class="linenr">180: </span>            (<span style="color: #C678DD;">setq</span> TeX-parse-self t)
<span class="linenr">181: </span>            (<span style="color: #C678DD;">setq</span> TeX-view-program-selection '((output-pdf <span style="color: #98C379;">"PDF Tools"</span>))
<span class="linenr">182: </span>                  TeX-source-correlate-start-server t)
<span class="linenr">183: </span>            (<span style="color: #C678DD;">setq</span> TeX-source-correlate-method 'synctex)
<span class="linenr">184: </span>
<span class="linenr">185: </span>            (<span style="color: #C678DD;">setq</span> TeX-source-correlate-mode t)
<span class="linenr">186: </span>            (<span style="color: #C678DD;">setq-default</span> TeX-master nil)
<span class="linenr">187: </span>            (global-set-key (kbd <span style="color: #98C379;">"C-c C-g"</span>) 'pdf-sync-forward-search)
<span class="linenr">188: </span>            (<span style="color: #C678DD;">setq</span> reftex-plug-into-AUCTeX t)
<span class="linenr">189: </span>            (<span style="color: #C678DD;">setq</span> reftex-bibliography-commands '(<span style="color: #98C379;">"bibliography"</span> <span style="color: #98C379;">"nobibliography"</span> <span style="color: #98C379;">"addbibresource"</span>))
<span class="linenr">190: </span>            (define-key LaTeX-mode-map (kbd <span style="color: #98C379;">"$"</span>) 'self-insert-command)
<span class="linenr">191: </span>            )
<span class="linenr">192: </span>          )
<span class="linenr">193: </span>
<span class="linenr">194: </span>(add-hook 'TeX-after-compilation-finished-functions #'TeX-revert-document-buffer)
<span class="linenr">195: </span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org45806f3" class="outline-3">
<h3 id="org45806f3"><span class="section-number-3">6.6.</span> Programming</h3>
<div class="outline-text-3" id="text-6-6">
<p>
Work with programming modes, even in remote systems using TRAMP.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">196: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">197: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Programming Modes</span>
<span class="linenr">198: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">===================================</span>
<span class="linenr">199: </span>(add-hook 'prog-mode-hook 'display-line-numbers-mode) <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Show line numbers for programming languages</span>
<span class="linenr">200: </span>
<span class="linenr">201: </span>(<span style="color: #C678DD;">use-package</span> corfu
<span class="linenr">202: </span>  <span style="color: #56B6C2;">:custom</span>
<span class="linenr">203: </span>  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(corfu-cycle t)                ;; Enable cycling for `</span><span style="color: #56B6C2; font-style: italic;">corfu-next/previous</span><span style="color: #5C6370; font-style: italic;">'</span>
<span class="linenr">204: </span>  (corfu-auto t)                 <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Enable auto completion</span>
<span class="linenr">205: </span>  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(corfu-separator ?\s)          ;; Orderless field separator</span>
<span class="linenr">206: </span>  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(corfu-quit-at-boundary nil)   ;; Never quit at completion boundary</span>
<span class="linenr">207: </span>  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(corfu-quit-no-match nil)      ;; Never quit, even if there is no match</span>
<span class="linenr">208: </span>  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(corfu-preview-current nil)    ;; Disable current candidate preview</span>
<span class="linenr">209: </span>  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(corfu-preselect 'prompt)      ;; Preselect the prompt</span>
<span class="linenr">210: </span>  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(corfu-on-exact-match nil)     ;; Configure handling of exact matches</span>
<span class="linenr">211: </span>  <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(corfu-scroll-margin 5)        ;; Use scroll margin</span>
<span class="linenr">212: </span>
<span class="linenr">213: </span>  <span style="color: #56B6C2;">:bind</span>
<span class="linenr">214: </span>  (<span style="color: #56B6C2;">:map</span> corfu-map
<span class="linenr">215: </span>      <span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Option 1: Unbind RET completely</span>
<span class="linenr">216: </span>      (<span style="color: #98C379;">"RET"</span> . nil))
<span class="linenr">217: </span>  <span style="color: #56B6C2;">:init</span>
<span class="linenr">218: </span>  (global-corfu-mode))
<span class="linenr">219: </span>
<span class="linenr">220: </span>(<span style="color: #C678DD;">use-package</span> corfu-popupinfo
<span class="linenr">221: </span>  <span style="color: #56B6C2;">:init</span>
<span class="linenr">222: </span>  (corfu-popupinfo-mode)
<span class="linenr">223: </span>  (<span style="color: #C678DD;">setq</span> corfu-popupinfo-delay '(1.0 . 0.1)))
<span class="linenr">224: </span>
<span class="linenr">225: </span>(<span style="color: #C678DD;">use-package</span> emacs
<span class="linenr">226: </span>  <span style="color: #56B6C2;">:init</span>
<span class="linenr">227: </span>  (<span style="color: #C678DD;">setq</span> completion-cycle-threshold 3))
<span class="linenr">228: </span>
</pre>
</div>
</div>

<div id="outline-container-org33c67b6" class="outline-4">
<h4 id="org33c67b6"><span class="section-number-4">6.6.1.</span> Elisp Support</h4>
<div class="outline-text-4" id="text-6-6-1">
<p>
Elisp syntax checking for emacs configuration files.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">229: </span>(add-hook 'emacs-lisp-mode-hook 'flymake-mode)
<span class="linenr">230: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org02cce0e" class="outline-4">
<h4 id="org02cce0e"><span class="section-number-4">6.6.2.</span> Python Support</h4>
<div class="outline-text-4" id="text-6-6-2">
<p>
Python with eglot as an LSP. Note that you may need to pip install a language server after activating a virtual environment.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">231: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Python with eglot</span>
<span class="linenr">232: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">(add-hook 'python-mode-hook 'eglot-ensure)</span>
<span class="linenr">233: </span>(<span style="color: #C678DD;">setq-default</span> eglot-workspace-configuration
<span class="linenr">234: </span>          '(<span style="color: #56B6C2;">:pylsp</span> (<span style="color: #56B6C2;">:skip_token_initialization</span> t
<span class="linenr">235: </span>                    <span style="color: #56B6C2;">:plugins</span> (<span style="color: #56B6C2;">:ruff</span> (<span style="color: #56B6C2;">:enabled</span> t
<span class="linenr">236: </span>                                              <span style="color: #56B6C2;">:formatEnabled</span> t)
<span class="linenr">237: </span>                              <span style="color: #56B6C2;">:pylsp_mypy</span> (<span style="color: #56B6C2;">:enabled</span> t)))
<span class="linenr">238: </span>            ))
<span class="linenr">239: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org79f8590" class="outline-4">
<h4 id="org79f8590"><span class="section-number-4">6.6.3.</span> Tramp + Conda</h4>
<div class="outline-text-4" id="text-6-6-3">
<p>
Connecting virtual environments on local and remote systems.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">240: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">Conda and TRAMP setup</span>
<span class="linenr">241: </span>
<span class="linenr">242: </span>(pyvenv-mode 1)
<span class="linenr">243: </span>
<span class="linenr">244: </span>(<span style="color: #C678DD;">defun</span> <span style="color: #61AFEF;">tramp-conda-setup</span>()
<span class="linenr">245: </span>  <span style="color: #98C379;">"Set up conda for tramp."</span>
<span class="linenr">246: </span>  (<span style="color: #C678DD;">when</span> default-directory (<span style="color: #C678DD;">if</span> (file-remote-p default-directory)
<span class="linenr">247: </span>                              (setenv <span style="color: #98C379;">"WORKON_HOME"</span> (concat (file-remote-p default-directory) <span style="color: #98C379;">"~/.virtualenvs"</span>))
<span class="linenr">248: </span>                            (setenv <span style="color: #98C379;">"WORKON_HOME"</span> <span style="color: #98C379;">"~/.virtualenvs"</span>))))
<span class="linenr">249: </span>
<span class="linenr">250: </span>(advice-add #'pyvenv-workon-home <span style="color: #56B6C2;">:before</span> #'tramp-conda-setup)
<span class="linenr">251: </span>
<span class="linenr">252: </span>(<span style="color: #C678DD;">setq</span> tramp-use-ssh-controlmaster-options nil)
<span class="linenr">253: </span>(<span style="color: #C678DD;">setq</span> exec-path (append exec-path '(<span style="color: #98C379;">"/afs/.ir/users/b/i/bidiptas/bin"</span>)))
<span class="linenr">254: </span>(<span style="color: #C678DD;">setq</span> tramp-verbose 6)
<span class="linenr">255: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5901dad" class="outline-4">
<h4 id="org5901dad"><span class="section-number-4">6.6.4.</span> C/C++/CUDA</h4>
<div class="outline-text-4" id="text-6-6-4">
<p>
Add support for CUDA and C/C++. When using cmake remember to do <code>cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1</code> so the lsp has enough information to avoid incorrect errors.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">256: </span>(add-to-list 'auto-mode-alist '(<span style="color: #98C379;">"\\.cu\\'"</span> . c++-mode))
<span class="linenr">257: </span>(add-hook 'c++-mode-hook 'eglot-ensure)
<span class="linenr">258: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga1f3beb" class="outline-4">
<h4 id="orga1f3beb"><span class="section-number-4">6.6.5.</span> Processing (Art)</h4>
<div class="outline-text-4" id="text-6-6-5">
<p>
Add support for Processing files (Java)
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">259: </span>(<span style="color: #C678DD;">setq</span> processing-location <span style="color: #98C379;">"/usr/local/bin/processing-java"</span>)
<span class="linenr">260: </span>(<span style="color: #C678DD;">setq</span> processing-application-dir <span style="color: #98C379;">"/Applications/Processing.app"</span>)
<span class="linenr">261: </span>(<span style="color: #C678DD;">setq</span> processing-sketchbook-dir <span style="color: #98C379;">"~/Documents/Processing"</span>)
<span class="linenr">262: </span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgeb60e7d" class="outline-3">
<h3 id="orgeb60e7d"><span class="section-number-3">6.7.</span> Wrap up</h3>
<div class="outline-text-3" id="text-6-7">
<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr">263: </span><span style="color: #5C6370; font-style: italic;">;; </span><span style="color: #5C6370; font-style: italic;">emacs -eval "(message (emacs-init-time))" -Q</span>
<span class="linenr">264: </span>(message (emacs-init-time))
<span class="linenr">265: </span>
<span class="linenr">266: </span>(<span style="color: #C678DD;">provide</span> '<span style="color: #56B6C2;">init</span>)
<span class="linenr">267: </span><span style="color: #5C6370; font-style: italic;">;;; </span><span style="color: #5C6370; font-style: italic;">init.el ends here</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb24643a" class="outline-2">
<h2 id="orgb24643a"><span class="section-number-2">7.</span> Acknowledgements</h2>
<div class="outline-text-2" id="text-7">
<p>
Big thanks to:
</p>
<ul class="org-ul">
<li><a href="https://github.com/joseph8th/literatemacs">literatemacs</a> for demonstrating the use of org for the user init</li>
<li><a href="https://github.com/fniessen/org-html-themes">org-html-themes</a> for providing export functionality to a pretty html theme</li>
<li><a href="https://stackoverflow.com/a/72498142">Charl Botha</a>'s stackoverflow answer to have separate custom.el</li>
<li><a href="https://www.emacswiki.org/">Emacs Wiki</a> and the emacs manual for understanding miscellaneous emacs/elisp topics.</li>
<li>Overleaf latex examples for <a href="https://www.overleaf.com/latex/examples/syntax-highlighting-in-latex-with-the-listings-package/jxnppmxxvsvk">syntax highlighting</a>.</li>
<li>Various other forums and resources on emacs configurations.<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup></li>
</ul>
</div>
</div>


<div id="outline-container-org68fd06c" class="outline-2">
<h2 id="org68fd06c"><span class="section-number-2">8.</span> License</h2>
<div class="outline-text-2" id="text-8">
<p>
Copyright (C) 2023 Bidipta Sarkar
</p>

<p>
Author: Bidipta Sarkar
</p>

<p>
This program is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation, either version 3 of the License, or (at your option) any later
version.
</p>

<p>
This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
</p>

<p>
You should have received a copy of the GNU General Public License along with
this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
</p>

<a href="http://opensource.org/licenses/GPL-3.0">
<img src="http://img.shields.io/:license-gpl-blue.svg" alt=":license-gpl-blue.svg" />
</a>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I know my LaTeX support was largely based on some website, but I can't find it anymore. If anyone knows where to find it, I'll edit this list to add that link. 
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: Bidipta Sarkar</p>
<p class="email">Email: <a href="mailto:bidiptas13@gmail.com">bidiptas13@gmail.com</a></p>
<p class="date">Created: 2024-05-08 Wed 18:06</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>